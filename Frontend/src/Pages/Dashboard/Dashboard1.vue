<template>
    <div id="map1">
      <ToolBox :map="map" @export-map-pdf="handleExportMapPdf" @center-map="handleCenterMap" />
      <div id="map"></div>
      <div id="info" v-if="mapInitialized">
          <h3>Road Structure Details</h3>
          <p><strong>Road:</strong> <span id="info_road">{{ data.road }}</span></p>
          <p><strong>District:</strong> <span id="info_district">{{ data.district }}</span></p>
          <p><strong>Number of Spans:</strong> <span id="info_no_of_spans">{{ data.no_of_spans }}</span></p>
          <p><strong>Span Length:</strong> <span id="info_span_length">{{ data.span_length }}</span> meters</p>
          <p><strong>Reference Location:</strong> <span id="info_location">{{ data.latitude }}, {{ data.longitude }}</span></p>
          <p><em>(Geometry plotted on map)</em></p>
      </div>
    </div>
  </template>
  
  <script setup>
  import { onMounted, ref } from "vue";
  import Map from "ol/Map";
  import View from "ol/View";
  import { FullScreen, ScaleLine, defaults as defaultControls } from "ol/control";
  import { defaults as defaultInteractions } from "ol/interaction/defaults";
  import { Tile as TileLayer } from "ol/layer";
  import OSM from "ol/source/OSM";
  import XYZ from "ol/source/XYZ";
  import { fromLonLat } from "ol/proj";
  
  // Import modules for vector data and WKB
  import VectorLayer from "ol/layer/Vector";
  import VectorSource from "ol/source/Vector";
  import WKB from "ol/format/WKB";
  import { Style, Stroke, Fill, Circle } from "ol/style";
  
  import ToolBox from "./Tool-box.vue"; // Assuming Tool-box.vue is in the same directory
  import html2canvas from "html2canvas";
  import jsPDF from "jspdf";
  import WKT from "ol/format/WKT";

  
  let map; // declare map variable
  const mapInitialized = ref(false); // To conditionally render info box after map is ready
  
  const data = {
    road: "s-14",
    district: "600CHA",
    no_of_spans: 2,
    span_length: 20,
    latitude: 30.3753,
    longitude: 69.3451,
    geom: `LINESTRING (72.421351 36.274366 , 72.421573 36.274293 , 72.421663 36.274263 , 72.421713 36.274248 , 72.421816 36.274239 , 72.421866 36.274226 , 72.421931 36.274209 , 72.421957 36.274192 , 72.422037 36.274177 , 72.422132 36.27413 , 72.422195 36.274098 , 72.422228 36.274086 , 72.422258 36.274074 , 72.422349 36.274065 , 72.422412 36.274062 , 72.422476 36.274051 , 72.422548 36.274052 , 72.422572 36.274053 , 72.422609 36.274053 , 72.422647 36.274052 , 72.422678 36.27404 , 72.422708 36.27403 , 72.422811 36.27397 , 72.422861 36.273938 , 72.422895 36.273922 , 72.422989 36.273901 , 72.423016 36.273892 , 72.423045 36.27388 , 72.423056 36.273877 , 72.423103 36.273861 , 72.42314 36.273845 , 72.423168 36.273827 , 72.42322 36.273806 , 72.423251 36.273791 , 72.423274 36.273779 , 72.423311 36.273765 , 72.423348 36.273735 , 72.423384 36.273698 , 72.423407 36.273674 , 72.423428 36.273659 , 72.423454 36.273644 , 72.423493 36.273632 , 72.423529 36.273634 , 72.423567 36.273642 , 72.423603 36.273646 , 72.423632 36.273648 , 72.423665 36.273657 , 72.42369 36.273657 , 72.423727 36.273649 , 72.423774 36.273638 , 72.423837 36.273635 , 72.42384 36.273635 , 72.423881 36.273634 , 72.4239 36.273638 , 72.423946 36.273642 , 72.423994 36.273654 , 72.424045 36.273656 , 72.424056 36.273653 , 72.424086 36.273646 , 72.424115 36.27363 , 72.424152 36.273604 , 72.42418 36.273585 , 72.424217 36.273558 , 72.424236 36.27355 , 72.424258 36.27354 , 72.424307 36.273518 , 72.424396 36.273485 , 72.424436 36.27347 , 72.424473 36.273455 , 72.4245 36.273438 , 72.424535 36.273406 , 72.424597 36.273349 , 72.424603 36.273344 , 72.424655 36.273293 , 72.42471 36.273247 , 72.424753 36.273214 , 72.424796 36.273165 , 72.424864 36.273093 , 72.424883 36.273074 , 72.424946 36.273011 , 72.424961 36.272982 , 72.425006 36.272925 , 72.42501 36.27292 , 72.425026 36.272905 , 72.425084 36.272881 , 72.425127 36.272875 , 72.425165 36.272868 , 72.425206 36.272856 , 72.425223 36.272851 , 72.425303 36.272832 , 72.425348 36.272816 , 72.425384 36.272806 , 72.425408 36.272786 , 72.425426 36.27277 , 72.425486 36.27276 , 72.425544 36.272756 , 72.425595 36.272762 , 72.425619 36.27277 , 72.425638 36.272776 , 72.425717 36.272782 , 72.425839 36.272792 , 72.425848 36.272793 , 72.425925 36.272787 , 72.42597 36.272787 , 72.426016 36.272786 , 72.426058 36.2728 , 72.42608 36.272807 , 72.426157 36.272837 , 72.426213 36.272855 , 72.426266 36.272865 , 72.426282 36.272868 , 72.426336 36.272881 , 72.426373 36.272895 , 72.426422 36.272899 , 72.426475 36.272896 , 72.426482 36.272894 , 72.426516 36.272887 , 72.42657 36.272874 , 72.426611 36.272874 , 72.426648 36.272874 , 72.42668 36.27287 , 72.426701 36.27287 , 72.426702 36.27287 , 72.426721 36.272877 , 72.426735 36.272889 , 72.426743 36.27291 , 72.426743 36.272939 , 72.426738 36.272962 , 72.42673 36.272984 , 72.426706 36.273015 , 72.42669 36.273038 , 72.426679 36.273056 , 72.426643 36.273118 , 72.42663 36.273151 , 72.426626 36.273201 , 72.426625 36.273224 , 72.426624 36.273251 , 72.426626 36.273274 , 72.426658 36.2733 , 72.426697 36.273313 , 72.426732 36.273314 , 72.426774 36.273316 , 72.426823 36.273317 , 72.426869 36.273323 , 72.426922 36.273322 , 72.426948 36.273307 , 72.426972 36.273292 , 72.427018 36.273261 , 72.427062 36.273236 , 72.427092 36.273218 , 72.42713 36.273212 , 72.427132 36.273212 , 72.427177 36.273201 , 72.427213 36.273176 , 72.42725 36.273156 , 72.427285 36.273129 , 72.427337 36.273081 , 72.427364 36.273042 , 72.427404 36.273002 , 72.427448 36.272964 , 72.427508 36.272927 , 72.427544 36.272912 , 72.427575 36.272905 , 72.427623 36.272899 , 72.427646 36.272897 , 72.427658 36.272896 , 72.427685 36.272907 , 72.427703 36.272922 , 72.427712 36.27294 , 72.42772 36.272974 , 72.427722 36.273001 , 72.427731 36.273036 , 72.427731 36.273044 , 72.427731 36.273067 , 72.427731 36.2731 , 72.427736 36.273143 , 72.427738 36.273174 , 72.427745 36.273206 , 72.42775 36.273222 , 72.42776 36.273249 , 72.427776 36.273293 , 72.427798 36.273316 , 72.42783 36.273334 , 72.427905 36.273368 , 72.427955 36.273378 , 72.428032 36.273388 , 72.428111 36.273402 , 72.428184 36.273427 , 72.428224 36.273446 , 72.42826 36.27347 , 72.428295 36.27349 , 72.42833 36.273509 , 72.428375 36.27354 , 72.428441 36.273589 , 72.428457 36.273603 , 72.428479 36.273621 , 72.428522 36.273644 , 72.428653 36.273684 , 72.428724 36.273707 , 72.428868 36.273731 , 72.42889 36.273735 , 72.429088 36.273757 , 72.429123 36.273761 , 72.429227 36.273767 , 72.42931 36.273773 , 72.429324 36.273774 , 72.429392 36.273781 , 72.429489 36.273788 , 72.429555 36.273779 , 72.42961 36.273767 , 72.429669 36.27375 , 72.429734 36.273739 , 72.429782 36.273716 , 72.429929 36.273615 , 72.429986 36.273582 , 72.430036 36.273558 , 72.430081 36.273538 , 72.430108 36.273526 , 72.43014 36.273514 , 72.430177 36.273498 , 72.430279 36.27348 , 72.43032 36.273474 , 72.430357 36.273469 , 72.430435 36.273459 , 72.430486 36.273457 , 72.43054 36.273455 , 72.430541 36.273455 , 72.430598 36.273454 , 72.430684 36.273454 , 72.430787 36.273439 , 72.430843 36.273416 , 72.430888 36.273402 , 72.430963 36.273365 , 72.431041 36.273326 , 72.43114 36.273281 , 72.431156 36.273275 , 72.431286 36.273233 , 72.431382 36.273186 , 72.431483 36.273166 , 72.431553 36.273141 , 72.431566 36.273139 , 72.431629 36.273127 , 72.431743 36.273113 , 72.431786 36.27311 , 72.43185 36.273106 , 72.431905 36.273104 , 72.432007 36.273116 , 72.43201 36.273117 , 72.432066 36.273126 , 72.432222 36.273164 , 72.432296 36.273182 , 72.432433 36.273222 , 72.432624 36.273278 , 72.432642 36.273285 , 72.432787 36.273343 , 72.432841 36.273367 , 72.432946 36.273413 , 72.433032 36.273458 , 72.433121 36.273506 , 72.433173 36.27354 , 72.433214 36.273563 , 72.433232 36.273573 , 72.433263 36.273585 , 72.433312 36.273586 , 72.433388 36.273592 , 72.433429 36.273595 , 72.433468 36.273598 , 72.433508 36.273612 , 72.433556 36.273624 , 72.433606 36.273644 , 72.433635 36.273658 , 72.433665 36.273672 , 72.433698 36.273694 , 72.433734 36.273716 , 72.433756 36.273733 , 72.433771 36.273746 , 72.433783 36.273771 , 72.433796 36.27379 , 72.433805 36.273802 , 72.433819 36.273825 , 72.43383 36.273847 , 72.433838 36.273883 , 72.433844 36.27391 , 72.43385 36.273916 , 72.433869 36.273933 , 72.433882 36.273939 , 72.433888 36.273942 , 72.433911 36.273947 , 72.433934 36.273954 , 72.433946 36.273953 , 72.434006 36.273946 , 72.434027 36.27394 , 72.434044 36.273926 , 72.43406 36.273913 , 72.434074 36.273904 , 72.43408 36.273899 , 72.434086 36.273893 , 72.434104 36.273882 , 72.434164 36.273843 , 72.434427 36.273674 , 72.434654 36.273675 , 72.434702 36.273675 , 72.434756 36.273686 , 72.434807 36.2737 , 72.434836 36.273718 , 72.434864 36.27373 , 72.435006 36.273769 , 72.435026 36.273779 , 72.435059 36.273793 , 72.435064 36.273795 , 72.435092 36.273808 , 72.435139 36.273834 , 72.435168 36.273856 , 72.435187 36.273867 , 72.435231 36.273892 , 72.435246 36.273898 , 72.435345 36.27393 , 72.435458 36.273952 , 72.435798 36.274017 , 72.435894 36.274027 , 72.436078 36.274046 , 72.436115 36.27405 , 72.436298 36.274074 , 72.436335 36.274081 , 72.436484 36.274112 , 72.436828 36.274203 , 72.43697 36.274249 , 72.43716 36.274311 , 72.437177 36.274317 , 72.437356 36.274391 , 72.437543 36.274482 , 72.43782 36.274575 , 72.438069 36.274601 , 72.438212 36.274618 , 72.438475 36.27465 , 72.438788 36.274675 , 72.438876 36.274687 , 72.438985 36.274701 , 72.439093 36.274727 , 72.439215 36.274756 , 72.439302 36.274788 , 72.439409 36.274826 , 72.439724 36.274903 , 72.439842 36.274931 , 72.439939 36.274951 , 72.440156 36.274994 , 72.440278 36.275018 , 72.440594 36.27506 , 72.440599 36.275061 , 72.441041 36.275074 , 72.441289 36.275071 , 72.441456 36.275048 , 72.441665 36.274999 , 72.441698 36.274994 , 72.441704 36.274993 , 72.441727 36.27499 , 72.441765 36.274982 , 72.441803 36.274973 , 72.441848 36.274967 , 72.44191 36.274944 , 72.441914 36.274942 , 72.441954 36.274918 , 72.442075 36.274874 , 72.442106 36.274859 , 72.442146 36.274841 , 72.442183 36.274824 , 72.44222 36.274808 , 72.442263 36.274794 , 72.442309 36.274795 , 72.442349 36.274797 , 72.442522 36.274817 , 72.44253 36.274818 , 72.442668 36.27483 , 72.442768 36.27483 , 72.442868 36.274813 , 72.442906 36.274805 , 72.442935 36.274791 , 72.442966 36.274782 , 72.442994 36.274773 , 72.443099 36.274751 , 72.443151 36.274746 , 72.443183 36.274746 , 72.443201 36.274746 , 72.443252 36.274741 , 72.443293 36.274735 , 72.443402 36.274714 , 72.443487 36.274698 , 72.44362 36.27468 , 72.443643 36.274676 , 72.443828 36.274616 , 72.444242 36.27448 , 72.444336 36.274449 , 72.444479 36.274382 , 72.444511 36.274368 , 72.444545 36.274357 , 72.444603 36.274347 , 72.444649 36.274342 , 72.444652 36.274342 , 72.444871 36.274324 , 72.444896 36.274322 , 72.445084 36.274278 , 72.445086 36.274277 , 72.445342 36.27419 , 72.445454 36.274165 , 72.445504 36.274153 , 72.445527 36.274148 , 72.445618 36.274135 , 72.445694 36.274128 , 72.445747 36.274122 , 72.445782 36.274117 , 72.445811 36.274117 , 72.44588 36.274116 , 72.446002 36.274104 , 72.446125 36.274104 , 72.446159 36.274101 , 72.446214 36.274095 , 72.446239 36.274094 , 72.446308 36.274114 , 72.446358 36.274135 , 72.446379 36.274142 , 72.446385 36.274144 , 72.446426 36.27416 , 72.446475 36.27417 , 72.44652 36.27417 , 72.446564 36.274174 , 72.446607 36.274175 , 72.446732 36.274202 , 72.44681 36.274221 , 72.447024 36.274273 , 72.44721 36.274318 , 72.447237 36.274327 , 72.447469 36.274401 , 72.447578 36.274418 , 72.447632 36.274422 , 72.447679 36.274422 , 72.447731 36.274423 , 72.447754 36.274423 , 72.447774 36.274423 , 72.447883 36.274401 , 72.447938 36.27439 , 72.448219 36.274364 , 72.448324 36.274349 , 72.448628 36.274303 , 72.448899 36.274233 , 72.449074 36.274173 , 72.449135 36.274145 , 72.44917 36.274129 , 72.449225 36.274113 , 72.449259 36.274101 , 72.44932 36.274097 , 72.449384 36.274093 , 72.449399 36.274092 , 72.449447 36.274094 , 72.449482 36.274094 , 72.449499 36.274094 , 72.449549 36.274085 , 72.449599 36.274075 , 72.449604 36.274074 , 72.449635 36.274067 , 72.449664 36.274048 , 72.449722 36.273985 , 72.449751 36.27394 , 72.449766 36.27392 , 72.449781 36.273895 , 72.449817 36.273852 , 72.449842 36.273825 , 72.449855 36.273811 , 72.449891 36.273778 , 72.449895 36.273776 , 72.449954 36.273739 , 72.450034 36.273721 , 72.45008 36.273714 , 72.450263 36.273705 , 72.450286 36.273702 , 72.450492 36.273673 , 72.450506 36.273671 , 72.450668 36.273644 , 72.450912 36.273539 , 72.45111 36.273471 , 72.45112 36.273465 , 72.451268 36.273382 , 72.451473 36.273315 , 72.451517 36.273309 , 72.451606 36.273297 , 72.451718 36.273272 , 72.451733 36.273266 , 72.451893 36.27321 , 72.452082 36.27312 , 72.45212 36.273091 , 72.45225 36.272992 , 72.452279 36.272965 , 72.452356 36.27289 , 72.452382 36.272872 , 72.452431 36.272854 , 72.452444 36.27285 , 72.452512 36.272834 , 72.45257 36.272826 , 72.452662 36.272809 , 72.452746 36.27281 , 72.452802 36.27282 , 72.452837 36.272836 , 72.45288 36.272865 , 72.45297 36.272924 , 72.453088 36.273031 , 72.453506 36.273329 , 72.453652 36.273407 , 72.453795 36.273507 , 72.453831 36.273551 , 72.453856 36.27358 , 72.453881 36.273653 , 72.453892 36.273691 , 72.453908 36.273718 , 72.453923 36.273749 , 72.453925 36.273753 , 72.45393 36.273762 , 72.45395 36.27378 , 72.45396 36.273789 , 72.454137 36.273853 , 72.454308 36.273882 , 72.454379 36.273893 , 72.454426 36.2739 , 72.454478 36.273911 , 72.454532 36.273928 , 72.454572 36.273946 , 72.454627 36.273989 , 72.454679 36.27402 , 72.45471 36.274038 , 72.454791 36.274117 , 72.454835 36.274171 , 72.454847 36.274184 , 72.454878 36.274217 , 72.454908 36.274242 , 72.454938 36.274264 , 72.455004 36.27431 , 72.455257 36.274488 , 72.455353 36.274532 , 72.455548 36.274621 , 72.45557 36.274631 , 72.455765 36.274703 , 72.455916 36.274768 , 72.456127 36.274855 , 72.456443 36.274911 , 72.456584 36.274931 , 72.456663 36.274942 , 72.457019 36.275011 , 72.457148 36.275036 , 72.457236 36.275055 , 72.457311 36.27507 , 72.457433 36.275084 , 72.457669 36.275095 , 72.457678 36.275095 , 72.458194 36.275088 , 72.45857 36.275073 , 72.458653 36.27507 , 72.458921 36.27505 , 72.459003 36.275041 , 72.459014 36.275039 , 72.459078 36.275031 , 72.459161 36.27503 , 72.459277 36.275014 , 72.459346 36.275002 , 72.459407 36.274992 , 72.459459 36.274974 , 72.459475 36.274965 , 72.459523 36.274947 , 72.459553 36.274939 , 72.459602 36.27493 , 72.45965 36.274923 , 72.459704 36.27492 , 72.459751 36.27492 , 72.459789 36.27492 , 72.459829 36.274913 , 72.459882 36.274904 , 72.459966 36.274888 , 72.460058 36.274872 , 72.460202 36.27483 , 72.460275 36.274808 , 72.460415 36.27474 , 72.460532 36.274663 , 72.460706 36.274515 , 72.460724 36.274502 , 72.460782 36.274461 , 72.460928 36.274402 , 72.460968 36.274385 , 72.461053 36.274364 , 72.461116 36.27436 , 72.461124 36.274359 , 72.461173 36.274353 , 72.461206 36.274347 , 72.461234 36.274339 , 72.461237 36.274338 , 72.46134 36.274317 , 72.461348 36.274315 , 72.461424 36.274291 , 72.46153 36.274265 , 72.461551 36.274258 , 72.461695 36.274206 , 72.461853 36.274133 , 72.46207 36.274061 , 72.46225 36.273981 , 72.462479 36.273865 , 72.46262 36.273793 , 72.462728 36.273733 , 72.462863 36.27368 , 72.462911 36.273666 , 72.462958 36.273651 , 72.463007 36.27363 , 72.463029 36.2736 , 72.463057 36.273566 , 72.463081 36.273532 , 72.463097 36.273498 , 72.46312 36.273451 , 72.463153 36.273412 , 72.463177 36.273391 , 72.463348 36.273265 , 72.463349 36.273265 , 72.46347 36.273147 , 72.463584 36.272963 , 72.463597 36.272942 , 72.463651 36.272891 , 72.463821 36.272731 , 72.46395 36.272585 , 72.464049 36.272446 , 72.464097 36.272378 , 72.464121 36.272343 , 72.464162 36.272276 , 72.464162 36.272212 , 72.464162 36.272211 , 72.464157 36.272136 , 72.464135 36.272052 , 72.46414 36.271987 , 72.464157 36.271914 , 72.464165 36.27183 , 72.464165 36.271768 , 72.464165 36.271712 , 72.464165 36.271666 , 72.464198 36.27161 , 72.464273 36.27155 , 72.464336 36.271514 , 72.464419 36.271477 , 72.464474 36.27145 , 72.464523 36.271432 , 72.464644 36.271381 , 72.464678 36.271364 , 72.464763 36.271317 , 72.464832 36.271301 , 72.464857 36.27129 , 72.46488 36.271276 , 72.464901 36.271264 , 72.464972 36.271217 , 72.465014 36.271188 , 72.465063 36.271146 , 72.465132 36.271084 , 72.465176 36.271059 , 72.465281 36.271017 , 72.46535 36.270993 , 72.46541 36.27097 , 72.465418 36.270967 , 72.465457 36.270948 , 72.465484 36.270937 , 72.465564 36.270922 , 72.465628 36.270913 , 72.465705 36.270919 , 72.465774 36.270953 , 72.465843 36.270997 , 72.4659 36.271053 , 72.465961 36.27109 , 72.46603 36.271146 , 72.466082 36.271199 , 72.466107 36.271221 , 72.466242 36.271337 , 72.466316 36.27139 , 72.46636 36.271459 , 72.466374 36.27151 , 72.466413 36.271572 , 72.466438 36.271606 , 72.466515 36.271716 , 72.466597 36.271816 , 72.466647 36.271876 , 72.466683 36.271916 , 72.466699 36.27193 , 72.466912 36.272021 , 72.467147 36.272154 , 72.467174 36.272169 , 72.467244 36.272199 , 72.467292 36.272219 , 72.467338 36.272235 , 72.467344 36.272236 , 72.467416 36.272247 , 72.467468 36.272247 , 72.467555 36.272257 , 72.467618 36.272277 , 72.467665 36.272289 , 72.467748 36.272313 , 72.467812 36.272333 , 72.467906 36.272352 , 72.467925 36.272362 , 72.467979 36.272387 , 72.46798 36.272387 , 72.468058 36.272396 , 72.468119 36.272401 , 72.468197 36.272401 , 72.4683 36.272407 , 72.468357 36.272415 , 72.468442 36.272425 , 72.468506 36.272428 , 72.468553 36.272418 , 72.468617 36.272401 , 72.4687 36.272388 , 72.468749 36.272387 , 72.468862 36.2724 , 72.468902 36.272404 , 72.468971 36.272419 , 72.46902 36.272442 , 72.469065 36.272464 , 72.469124 36.27248 , 72.469178 36.272486 , 72.46925 36.272482 , 72.469285 36.272478 , 72.46932 36.272472 , 72.469344 36.272472 , 72.469372 36.27248 , 72.469497 36.272513 , 72.46955 36.272525 , 72.469597 36.272522 , 72.469717 36.272499 , 72.469911 36.272462 , 72.469934 36.272457 , 72.470104 36.272422 , 72.470151 36.272415 , 72.470197 36.272408 , 72.47027 36.272408 , 72.47042 36.272452 , 72.470695 36.272496 , 72.47077 36.272508 , 72.470802 36.272514 , 72.471122 36.272572 , 72.47124 36.272581 , 72.471684 36.272617 , 72.471708 36.272619 , 72.472169 36.272636 , 72.472242 36.272646 , 72.47235 36.272662 , 72.47246 36.272678 , 72.472571 36.272678 , 72.472669 36.272677 , 72.472876 36.272669 , 72.473131 36.272723 , 72.473224 36.272754 , 72.473333 36.272789 , 72.473486 36.272829 , 72.473648 36.272865 , 72.473863 36.272913 , 72.473883 36.272918 , 72.474082 36.27295 , 72.474098 36.272952 , 72.474298 36.272983 , 72.474518 36.273024 , 72.474796 36.273077 , 72.475004 36.273126 , 72.475194 36.273174 , 72.475374 36.273225 , 72.475481 36.273255 , 72.475545 36.273273 , 72.475585 36.273283 , 72.475666 36.273302 , 72.475734 36.273313 , 72.475784 36.273317 , 72.475846 36.27333 , 72.475929 36.273331 , 72.475996 36.273334 , 72.476024 36.273336 , 72.47607 36.273339 , 72.476156 36.273349 , 72.476426 36.273409 , 72.476455 36.273421 , 72.476556 36.273463 , 72.476587 36.273476 , 72.476648 36.273511 , 72.476788 36.27359 , 72.476835 36.273608 , 72.476885 36.273627 , 72.477145 36.273683 , 72.477345 36.273721 , 72.477697 36.273758 , 72.477705 36.273759 , 72.477927 36.273772 , 72.478101 36.273782 , 72.478149 36.273788 , 72.478261 36.273801 , 72.47837 36.273814 , 72.478477 36.273826 , 72.478652 36.273851 , 72.478763 36.273907 , 72.478783 36.273924 , 72.478848 36.273981 , 72.479016 36.27417 , 72.479119 36.27431 , 72.479351 36.274472 , 72.479462 36.274549 , 72.479521 36.274588 , 72.479692 36.274703 , 72.479779 36.274761 , 72.4799 36.274842 , 72.479983 36.274928 , 72.480042 36.274979 , 72.48009 36.275019 , 72.480153 36.275075 , 72.480186 36.2751 , 72.480274 36.275124 , 72.480366 36.275154 , 72.480486 36.275194 , 72.480771 36.275305 , 72.48079 36.275312 , 72.481114 36.275443 , 72.481471 36.275509 , 72.481857 36.275519 , 72.482283 36.275516 , 72.482365 36.275515 , 72.482506 36.275508 , 72.482729 36.275498 , 72.482766 36.275497 , 72.48284 36.275484 , 72.482948 36.275466 , 72.483845 36.275316 , 72.484043 36.2753 , 72.484331 36.275276 , 72.484486 36.275258 , 72.484707 36.275232 , 72.485102 36.275186 , 72.485372 36.275177 , 72.485708 36.275166 , 72.485818 36.275163 , 72.485882 36.275161 , 72.486041 36.275165 , 72.486089 36.275167 , 72.486516 36.275231 , 72.486696 36.275273 , 72.486706 36.275276 , 72.48709 36.275365 , 72.487123 36.275377 , 72.487133 36.27538 , 72.487226 36.275413 , 72.487327 36.275449 , 72.487541 36.275525 , 72.487959 36.275672 , 72.48815 36.275727 , 72.488384 36.275794 , 72.488779 36.27591 , 72.48907 36.275994 , 72.489524 36.276157 , 72.489601 36.276188 , 72.489625 36.276198 , 72.489805 36.276262 , 72.489885 36.276291 , 72.490301 36.276452 , 72.490559 36.276563 , 72.490781 36.276692 , 72.490927 36.276795 , 72.491109 36.276929 , 72.491521 36.277159 , 72.491849 36.277395 , 72.491985 36.277507 , 72.492049 36.277547 , 72.492066 36.277554 , 72.492106 36.277576 , 72.492154 36.277593 , 72.492202 36.277602 , 72.49225 36.277616 , 72.492408 36.27768 , 72.492651 36.277867 , 72.492891 36.277928 , 72.492927 36.277928 , 72.493051 36.277928 , 72.493148 36.277941 , 72.493154 36.277942 , 72.493265 36.277963 , 72.493356 36.278003 , 72.493357 36.278004 , 72.493432 36.278046 , 72.493473 36.278069 , 72.493546 36.278087 , 72.493605 36.278102 , 72.493703 36.278123 , 72.493721 36.278127 , 72.493794 36.278129 , 72.494212 36.278119 , 72.494492 36.278112 , 72.494845 36.278097 , 72.49508 36.278058 , 72.495237 36.278006 , 72.495304 36.277985 , 72.495307 36.277984 , 72.495401 36.277962 , 72.495469 36.277949 , 72.495521 36.277948 , 72.495561 36.277947 , 72.495742 36.277922 , 72.495762 36.277919 , 72.495956 36.277873 , 72.496753 36.277685 , 72.497095 36.277627 , 72.497211 36.277612 , 72.497251 36.277604 , 72.49729 36.277595 , 72.497362 36.27757 , 72.497452 36.277527 , 72.497456 36.277524 , 72.497524 36.277493 , 72.497563 36.277477 , 72.497657 36.277463 , 72.497662 36.277463 , 72.497874 36.277422 , 72.497876 36.277422 , 72.497928 36.277422 , 72.497988 36.277408 , 72.498049 36.277385 , 72.498237 36.277332 , 72.498275 36.277321 , 72.498437 36.277268 , 72.49857 36.277237 , 72.498697 36.277224 , 72.498798 36.277212 , 72.498854 36.277194 , 72.498939 36.277173 , 72.498966 36.277166 , 72.499054 36.277134 , 72.499117 36.277105 , 72.4992 36.27705 , 72.499246 36.277011 , 72.499301 36.276969 , 72.499356 36.27693 , 72.4994 36.276895 , 72.499416 36.276881 , 72.499461 36.276842 , 72.49952 36.276807 , 72.499564 36.276756 , 72.499623 36.276675 , 72.499688 36.276572 , 72.499749 36.276503 , 72.4998 36.276445 , 72.500071 36.276228 , 72.500132 36.276178 , 72.500232 36.276115 , 72.50032 36.276066 , 72.500381 36.276034 , 72.500425 36.276015 , 72.500484 36.27599 , 72.50062 36.275934 , 72.500714 36.275886 , 72.500771 36.275871 , 72.500847 36.275816 , 72.500917 36.275772 , 72.501429 36.275536 , 72.50144 36.275533 , 72.501545 36.275494 , 72.501635 36.275461 , 72.501643 36.275458 , 72.501725 36.275426 , 72.501836 36.275376 , 72.501841 36.275375 , 72.50193 36.275343 , 72.502016 36.275308 , 72.502097 36.27526 , 72.502182 36.275195 , 72.502547 36.275018 , 72.502729 36.274914 , 72.502926 36.27478 , 72.503116 36.274699 , 72.503276 36.274583 , 72.5033 36.274561 , 72.503445 36.274428 , 72.503447 36.274426 , 72.5036 36.274295 , 72.503766 36.274154 , 72.504001 36.273893 , 72.504121 36.273805 , 72.504204 36.273747 , 72.504311 36.273659 , 72.504416 36.273582 , 72.504524 36.273499 , 72.50465 36.27343 , 72.504732 36.273369 , 72.504812 36.273302 , 72.504844 36.273273 , 72.504885 36.273237 , 72.50498 36.27313 , 72.505111 36.272985 , 72.505218 36.272866 , 72.505353 36.272683 , 72.505417 36.272598 , 72.505474 36.272532 , 72.505784 36.272177 , 72.505947 36.272038 , 72.506154 36.27185 , 72.506376 36.271586 , 72.506414 36.271548 , 72.506422 36.271539 , 72.50644 36.271519 , 72.506478 36.271488 , 72.506525 36.271463 , 72.506556 36.271445 , 72.506729 36.271453 , 72.506801 36.271454 , 72.506822 36.271455 , 72.506887 36.271459 , 72.506976 36.271459 , 72.507096 36.271461 , 72.507154 36.271461 , 72.507214 36.271461 , 72.507266 36.27145 , 72.507333 36.271436 , 72.507462 36.271369 , 72.507649 36.27127 , 72.50768 36.271254 , 72.507827 36.271162 , 72.507938 36.271094 , 72.508002 36.27105 , 72.508058 36.271012 , 72.508099 36.270993 , 72.508178 36.270954 , 72.508237 36.27093 , 72.508396 36.270889 , 72.508403 36.270887 , 72.508582 36.270866 , 72.508616 36.270863 , 72.508838 36.270842 , 72.509059 36.270821 , 72.509083 36.270819 , 72.50924 36.2708 , 72.509279 36.270791 , 72.509305 36.270786 , 72.509362 36.270761 , 72.509475 36.270707 , 72.509499 36.270696 , 72.5096 36.270639 , 72.509707 36.270586 , 72.50982 36.270549 , 72.509865 36.270536 , 72.510075 36.270475 , 72.510285 36.270414 , 72.510495 36.270353 , 72.510605 36.270321 , 72.5107 36.270284 , 72.510926 36.270196 , 72.511104 36.270131 , 72.511308 36.270058 , 72.511512 36.269985 , 72.511653 36.269934 , 72.511716 36.269913 , 72.51191 36.269849 , 72.511924 36.269847 , 72.512144 36.269819 , 72.512364 36.26979 , 72.512464 36.269778 , 72.512586 36.269773 , 72.512797 36.269764 , 72.512808 36.269762 , 72.512888 36.269751 , 72.512978 36.269738 , 72.513028 36.269731 , 72.513047 36.269729 , 72.51313 36.26972 , 72.513207 36.2697 , 72.51343 36.269589 , 72.51362 36.269494 , 72.513788 36.269411 , 72.513812 36.269403 , 72.514018 36.269334 , 72.514183 36.269301 , 72.514277 36.269281 , 72.514334 36.269243 , 72.5144 36.269214 , 72.514424 36.269199 , 72.51447 36.269171 , 72.514562 36.26913 , 72.514608 36.269099 , 72.51464 36.269077 , 72.514709 36.269024 , 72.51478 36.268992 , 72.514784 36.26899 , 72.514811 36.268982 , 72.51487 36.268951 , 72.514912 36.26892 , 72.514962 36.268885 , 72.515006 36.268843 , 72.515047 36.268806 , 72.515072 36.268765 , 72.515101 36.268684 , 72.515105 36.268651 , 72.515099 36.268595 , 72.515016 36.268438 , 72.514948 36.268302 , 72.514923 36.268264 , 72.514919 36.268257 , 72.514903 36.268211 , 72.514878 36.268089 , 72.514841 36.267911 , 72.514817 36.267794 , 72.514814 36.267733 , 72.514808 36.267624 , 72.514822 36.267554 , 72.514843 36.267453 , 72.51494 36.267208 , 72.51499 36.267082 , 72.514962 36.266856 , 72.51494 36.266677 , 72.514934 36.266635 , 72.514898 36.266381 , 72.514876 36.266322 , 72.514811 36.26615 , 72.514768 36.266037 , 72.514695 36.265827 , 72.514689 36.265804 , 72.514648 36.265648 , 72.514615 36.265449 , 72.51461 36.26542 , 72.514594 36.265188 , 72.514592 36.26491 , 72.514591 36.264838 , 72.514568 36.264732 , 72.514531 36.264555 , 72.514525 36.264528 , 72.514484 36.264379 , 72.514339 36.263854 , 72.514272 36.26368 , 72.514229 36.26357 , 72.514203 36.263509 , 72.514193 36.263486 , 72.514163 36.263377 , 72.51416 36.263334 , 72.514155 36.263272 , 72.514157 36.263233 , 72.514155 36.263146 , 72.514144 36.26303 , 72.514108 36.262919 , 72.514069 36.26282 , 72.514034 36.262753 , 72.513936 36.2624 , 72.513811 36.262004 , 72.513802 36.261953 , 72.513792 36.261898 , 72.513758 36.261837 , 72.51374 36.261802 , 72.513687 36.261718 , 72.513619 36.261605 , 72.513542 36.261498 , 72.513509 36.261445 , 72.513473 36.26135 , 72.513343 36.261006 , 72.513322 36.260951 , 72.513295 36.260878 , 72.513279 36.260834 , 72.513232 36.260699 , 72.513221 36.26066 , 72.513206 36.260604 , 72.513193 36.260556 , 72.513177 36.260488 , 72.513177 36.260484 , 72.513177 36.260452 , 72.513147 36.260306 , 72.513136 36.260143 , 72.513136 36.260066 , 72.513131 36.259992 , 72.513109 36.259917 , 72.513079 36.259771 , 72.513076 36.259757 , 72.513052 36.259718 , 72.512996 36.259628 , 72.512981 36.25961 , 72.512919 36.259535 , 72.51282 36.259417 , 72.512768 36.259335 , 72.512622 36.259166 , 72.512471 36.258952 , 72.512463 36.258942 , 72.5124 36.258822 , 72.512353 36.258731 , 72.512315 36.258649 , 72.512285 36.25856 , 72.512294 36.258499 , 72.512341 36.258386 , 72.512401 36.25814 , 72.512429 36.257972 , 72.512445 36.257877 , 72.512423 36.257616 , 72.512423 36.257614 , 72.512414 36.257452 , 72.512339 36.257184 , 72.512288 36.256922 , 72.512254 36.256734 , 72.512255 36.256727 , 72.512272 36.256547 , 72.512272 36.256539 , 72.512274 36.256337 , 72.512241 36.256144 , 72.512184 36.255944 , 72.512141 36.255841 , 72.512137 36.255832 , 72.512086 36.255619 , 72.512065 36.255486 , 72.512046 36.255369 , 72.512039 36.255308 , 72.512026 36.255186 , 72.512002 36.255028 , 72.511979 36.254894 , 72.511954 36.254842 , 72.511938 36.254825 , 72.511933 36.254814 , 72.511929 36.254797 , 72.511924 36.254781 , 72.511924 36.254769 , 72.511924 36.254763 , 72.511928 36.254754 , 72.51193 36.254751 , 72.511932 36.254749 , 72.511934 36.254748 , 72.511956 36.254734 , 72.511959 36.254732 , 72.511965 36.254731 , 72.511978 36.254729 , 72.512008 36.254731 , 72.512031 36.25474 , 72.512049 36.254752 , 72.512065 36.254767 , 72.51207 36.254776 , 72.512074 36.254789 , 72.512088 36.254836 , 72.512155 36.254998 , 72.512198 36.255116 , 72.512254 36.255298 , 72.512275 36.255367 , 72.512401 36.255675 , 72.512454 36.255787 , 72.512479 36.255896 , 72.512484 36.25599 , 72.512491 36.255991 , 72.512516 36.255991 , 72.512585 36.255986 , 72.512787 36.255984 , 72.512792 36.255984 , 72.512953 36.255985 , 72.51301 36.255986 , 72.513073 36.255986 , 72.513094 36.255986 , 72.513105 36.255982 , 72.513113 36.255974 , 72.513128 36.255958 , 72.513139 36.255946 , 72.513152 36.255924 , 72.513163 36.255838 , 72.513167 36.255805 , 72.513213 36.25568 , 72.513218 36.255664 , 72.513259 36.255534 , 72.513275 36.255491 , 72.513325 36.25536 , 72.513353 36.255323 , 72.513358 36.255317 , 72.513411 36.255274 , 72.513611 36.255066 , 72.51373 36.254881 , 72.513826 36.254733 , 72.513832 36.254721 , 72.513855 36.254683 , 72.513881 36.254658 , 72.513923 36.25463 , 72.513954 36.254618 , 72.513991 36.254599 , 72.514041 36.254535 , 72.514209 36.254288 , 72.514228 36.254324 )`
  };
  
  onMounted(() => {
    const mapEl = document.getElementById("map");
    console.log("Map element:", mapEl); // Must NOT be null
  
    if (!mapEl) {
      console.error("Map element not found. Cannot initialize map.");
      return;
    }


    // Parse the WKB geometry
    const wktFormat = new WKT();
let feature;
try {
 
  feature = wktFormat.readFeature(data.geom, {
    dataProjection: "EPSG:4326",
    featureProjection: "EPSG:3857",
  });
  feature.setProperties({
    road: data.road,
    district: data.district,
    no_of_spans: data.no_of_spans,
    span_length: data.span_length,
    latitude: data.latitude,
    longitude: data.longitude,
  });
} catch (e) {
  console.error("Error parsing WKT:", e);
  return;
}

    // Create a vector source and layer for the WKB feature
    const vectorSource = new VectorSource({
      features: [feature], // Add the parsed feature to the source
    });
  
    const vectorLayer = new VectorLayer({
      source: vectorSource,
      style: new Style({
        stroke: new Stroke({
          color: "rgba(255, 0, 0, 0.7)", // Red line for the road
          width: 4,
        }),
        // If it's a polygon, you might want a fill
        fill: new Fill({
          color: "rgba(255, 0, 0, 0.2)", // Light red fill for polygons
        }),
        // If the geometry could be a point (e.g., center point), style it
        image: new Circle({
          radius: 8,
          fill: new Fill({ color: 'blue' }),
          stroke: new Stroke({ color: 'white', width: 2 })
        })
      }),
      title: "Road Geometry", // Title for layer switcher if you add one
      zIndex: 10, // Ensure it's on top of base layers
    });
  
    map = new Map({
      target: mapEl,
      layers: [
        // Base Layers
        new TileLayer({
          source: new XYZ({
            url: "https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
            attributions:
              "Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",
            maxZoom: 58,
          }),
          visible: true, // Make Esri Imagery your default base map
          title: "Esri World Imagery (Satellite)",
        }),
      // /* */  new TileLayer({
      //     source: new OSM(),
      //     visible: true,
      //     title: "OpenStreetMap (Standard Roads)",
      //    }),
        // new TileLayer({
        //   source: new XYZ({
        //     url: "https://{a-b}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",
        //     attributions:
        //       "© <a href=\"https://carto.com/basemaps/\">CartoDB</a>, © <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap contributors</a>",
        //     maxZoom: 19,
        //   }),
        //   visible: false,
        //   title: "CartoDB Positron (Light Roads)",
        // }),
        // new TileLayer({
        //   source: new XYZ({
        //     url: "https://{a-d}.basemaps.cartocdn.com/dark_matter_all/{z}/{x}/{y}.png",
        //     attributions:
        //       "© <a href=\"https://carto.com/basemaps/\">CartoDB</a>, © <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap contributors</a>",
        //     maxZoom: 19,
        //   }),
        //   visible: false,
        //   title: "CartoDB Dark Matter (Dark Roads)",
        // }),
        // new TileLayer({
        //   source: new XYZ({
        //     url: "https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png",
        //     attributions:
        //       "&copy; <a href=\"https://wikimediafoundation.org/wiki/Maps_terms_of_use\">Wikimedia Maps</a> contributors, <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap contributors</a>",
        //     maxZoom: 19,
        //   }),
        //   visible: false,
        //   title: "Wikimedia Maps (Roads)",
        // }),
        // new TileLayer({
        //   source: new XYZ({
        //     url: "https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",
        //     attributions:
        //       "&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap contributors</a>, Tiles: <a href=\"https://hot.openstreetmap.org/\">Humanitarian OpenStreetMap Team</a>",
        //     maxZoom: 18,
        //   }),
        //   visible: false,
        //   title: "OpenStreetMap HOT (Roads)",
        // }),
        // new TileLayer({
        //   source: new XYZ({
        //     url: "https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",
        //     attributions:
        //       "Tiles &copy; Esri &mdash; Sources: Esri, HERE, Garmin, USGS, NGA, EPA, USDA, NPS",
        //     maxZoom: 16,
        //   }),
        //   visible: false,
        //   title: "Esri Light Gray Canvas (Subtle)",
        // }),
        // new TileLayer({
        //   source: new XYZ({
        //     url: "https://{a-c}.tile.opentopomap.org/{z}/{x}/{y}.png",
        //     attributions:
        //       'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)',
        //     maxZoom: 17,
        //   }),
        //   visible: false,
        //   title: "OpenTopoMap (Terrain)",
        // }),
        // Add the WKB vector layer
        vectorLayer,
      ],
      view: new View({
        center: fromLonLat([data.longitude, data.latitude]), // Use the specific coordinates from your data
        zoom: 12, // Start with a closer zoom to see the feature
      }),
      controls: defaultControls({ attribution: false }).extend([
        new FullScreen(),
        new ScaleLine(),
      ]),
      interactions: defaultInteractions(),
    });
  
    // Fit the map view to the extent of the WKB feature after map is rendered
    map.on('rendercomplete', () => {
      if (feature && feature.getGeometry()) {
          const extent = feature.getGeometry().getExtent();
          // Check if extent is valid before fitting
          if (extent[0] !== Infinity && extent[1] !== Infinity && extent[2] !== -Infinity && extent[3] !== -Infinity) {
              map.getView().fit(extent, {
                  padding: [50, 50, 50, 50], // Add some padding around the feature
                  duration: 1000, // Smooth transition
                  constrainResolution: false // Allow any resolution during fit
              });
          }
      }
      mapInitialized.value = true; // Set flag to true once map is fully initialized
    }, { once: true }); // Run this listener only once
  
  
  });
  
  const handleExportMapPdf = async () => {
    const mapElement = document.getElementById("map1");
  
    if (!mapElement) {
      console.error("Map element not found for screenshot.");
      return;
    }
  
    // Hide OpenLayers controls temporarily to get a clean screenshot
    const controls = mapElement.querySelectorAll(".ol-control");
    controls.forEach((control) => {
      control.style.display = "none";
    });
    // Hide the info box temporarily as well
    const infoBox = document.getElementById('info');
    if (infoBox) infoBox.style.display = 'none';
  
    // Take screenshot using html2canvas
    try {
      const canvas = await html2canvas(mapElement, {
        useCORS: true, // Important for cross-origin map tiles
        scale: 2, // Increase scale for higher resolution screenshot
        logging: false, // Disable html2canvas logging if not needed
        ignoreElements: (element) => {
          // Optionally ignore specific elements if they cause issues or are not desired in PDF
          return element.id === 'info'; // Example: don't include the info box in the screenshot
        }
      });
  
      const imgData = canvas.toDataURL("image/png"); // Get image data as PNG
  
      // Calculate PDF dimensions based on the canvas aspect ratio
      const imgWidth = canvas.width;
      const imgHeight = canvas.height;
      const pdf = new jsPDF({
        orientation: imgWidth > imgHeight ? "l" : "p", // Landscape if width > height, else Portrait
        unit: "px", // Use pixels as unit for consistency with canvas
        format: [imgWidth, imgHeight], // Set PDF format to image dimensions
      });
  
      // Add the image to the PDF
      pdf.addImage(imgData, "PNG", 0, 0, imgWidth, imgHeight);
  
      // Save the PDF
      pdf.save("map_screenshot.pdf");
  
      console.log("Map exported to PDF successfully!");
    } catch (error) {
      console.error("Error exporting map to PDF:", error);
    } finally {
      // Show OpenLayers controls again
      controls.forEach((control) => {
        control.style.display = ""; // Reset display style
      });
      // Show the info box again
      if (infoBox) infoBox.style.display = '';
    }
  };
  
  const handleCenterMap = (coordinates) => {
    if (map) {
      // Set the map view to the new center
      map.getView().setCenter(fromLonLat(coordinates));
      // Optional: You might want to set a specific zoom level as well
      map.getView() // A reasonable zoom to see the feature
      console.log("Map centered to:", coordinates);
    } else {
      console.warn("Map object not yet initialized when Center Map was clicked.");
    }
  };
  
  // Optional: destroy map cleanly when component unmounts
  // import { onBeforeUnmount } from 'vue';
  // onBeforeUnmount(() => {
  //   if (map) {
  //     map.setTarget(undefined);
  //     map = null;
  //   }
  // });
  </script>
  
  <style scoped>
  #map1 {
      position: relative; /* Needed for absolute positioning of info box */
      width: 100%;
      height: 53.4rem; /* Ensure parent has defined height */
  }
  
  #map {
    width: 100%;
    height: 100%; /* Fill the parent #map1 */
    border-radius: 10px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
  }
  
  #info {
      position: absolute;
      top: 10px;
      right: 10px; /* Changed to right for better placement */
      background: rgba(255, 255, 255, 0.9);
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      z-index: 1000;
      max-width: 300px;
      font-size: 0.9em;
  }
  #info h3 {
      margin-top: 0;
      color: #333;
      border-bottom: 1px solid #eee;
      padding-bottom: 5px;
      margin-bottom: 10px;
  }
  #info p {
      margin: 5px 0;
      line-height: 1.4;
  }
  #info strong {
      color: #555;
  }
  
  
  /* Apply styles deeply to OpenLayers controls */
  ::v-deep .ol-control {
    background-color: #ffffff;
    border-radius: 8px;
    padding: 4px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
  }
  
  ::v-deep .ol-zoom {
    /* top: 10px; Removing fixed top/left so OpenLayers places them */
    /* left: 10px; */
    height: 0px; /* This makes the default zoom buttons essentially invisible */
    background: none;
  }
  
  ::v-deep .ol-full-screen {
    top: 10px; /* Adjust as needed */
    right: 10px; /* Adjust as needed, avoid conflict with info box */
    background-color: #2196f3;
    color: white; /* Changed color to white for visibility */
    width: auto; /* Allow button to size naturally */
    height: auto; /* Allow button to size naturally */
    padding: 5px 8px; /* Add some padding */
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3); /* Add box shadow */
  }
  
  ::v-deep .ol-scale-line {
    bottom: 10px;
    left: 10px;
    background-color: #ffffff;
    border-radius: 8px;
    padding: 4px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
    height: 30px;
  }
  </style>